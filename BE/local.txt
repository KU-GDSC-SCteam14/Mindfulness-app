-- User 테이블
CREATE TABLE User (
  User_ID INTEGER PRIMARY KEY AUTOINCREMENT,
  Name TEXT,
  Signup_date TEXT,
  is_Google INTEGER,
  is_Apple INTEGER,
  Provider_ID TEXT,
  Access_Token TEXT,
  Refresh_Token TEXT,
  Token_Expiry_Date TEXT,
  Profile_Picture_URL TEXT
);

-- Diary 테이블
CREATE TABLE Diary (
  Diary_ID INTEGER PRIMARY KEY AUTOINCREMENT,
  User_ID INTEGER,
  Title TEXT,
  Content_1 TEXT,
  Content_2 TEXT,
  Content_3 TEXT,
  Date TEXT,
  Mood_ID INTEGER,
  FOREIGN KEY (User_ID) REFERENCES User(User_ID),
  FOREIGN KEY (Mood_ID) REFERENCES Mood(Mood_ID)
);

-- Keyword 테이블
CREATE TABLE Keyword (
  Keyword_ID INTEGER PRIMARY KEY AUTOINCREMENT,
  keyword TEXT
);

-- DiaryKeyword 테이블
CREATE TABLE DiaryKeyword (
  Diary_Keyword_ID INTEGER PRIMARY KEY AUTOINCREMENT,
  Diary_ID INTEGER,
  Keyword_ID INTEGER,
  FOREIGN KEY (Diary_ID) REFERENCES Diary(Diary_ID),
  FOREIGN KEY (Keyword_ID) REFERENCES Keyword(Keyword_ID)
);

-- Mood 테이블
CREATE TABLE Mood (
  Mood_ID INTEGER PRIMARY KEY AUTOINCREMENT,
  Mood_name TEXT,
  Mood_value_min REAL,
  Mood_value_max REAL
);

-- AI_Data 테이블 (SQLite에서 사용할 경우)
CREATE TABLE AI_Data (
  AI_Data_ID INTEGER PRIMARY KEY AUTOINCREMENT,
  Diary_ID INTEGER,
  Keywords_Extract TEXT,
  Mood_value REAL,
  FOREIGN KEY (Diary_ID) REFERENCES Diary(Diary_ID)
);
